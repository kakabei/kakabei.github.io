I"¯<p>å®¹å™¨ç”¨çš„åˆ†å±‚å­˜å‚¨æŠ€æœ¯ï¼Œè¿è¡Œæ—¶ï¼Œä»¥é•œåƒä¸ºåŸºç¡€å±‚ï¼Œåœ¨å…¶ä¸Šåˆ›å»ºä¸€ä¸ªå½“å‰å®¹å™¨çš„å­˜å‚¨å±‚ï¼Œå«â€œå®¹å™¨å­˜å‚¨å±‚â€ã€‚å®¹å™¨æ¶ˆäº¡æ—¶ï¼Œè¿™ä¸ªå®¹å™¨å­˜å‚¨å±‚ä¹ŸåŒæ ·ä¼šæ¶ˆäº¡ã€‚</p>

<p>æ‰€ä»¥è¿è¡Œçš„æ•°æ®å¦‚æœä¿å­˜åœ¨è¿™ä¸€å±‚ï¼Œåˆ™ä¼šä¸¢å¤±ã€‚</p>

<p>docker æ•°æ®å·ï¼Œå°±æ˜¯ç»•è¿‡ union fs çš„åˆ†å±‚ï¼Œè€Œæ˜¯ç›´æ¥è¯»å†™åœ¨å®¿ä¸»çš„ç›®å½•ä¸Šã€‚ æœ‰ç‚¹ç±»ä¼¼äºï¼ŒæŠŠä¸€ä¸ªç¡¬ç›˜æŒ‚è½½åˆ°ç³»ç»Ÿä¸Šä¸€æ ·ã€‚</p>

<p>å®ƒçš„ç‰¹ç‚¹ï¼š</p>

<ul>
  <li>å¯ä»¥åœ¨å¤šä¸ªå®¹å™¨ä¸Šå…±äº«</li>
  <li>å³æ—¶ç”Ÿæ•ˆ</li>
  <li>ä¸ä¼šå½±å“é•œåƒ</li>
  <li>ä¸ä¼šéšç€å®¹å™¨æ¶ˆäº¡è€Œæ¶ˆå¤±</li>
</ul>

<h1 id="åˆ›å»ºæ•°æ®å·">åˆ›å»ºæ•°æ®å·</h1>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># åˆ›å»ºä¸€ä¸ª nginx-log çš„å·</span>
 docker  volume create inspect nginx-log 
 nginx-log

 <span class="c"># æŸ¥çœ‹å·ä¿¡æ¯</span>
 docker  volume  inspect nginx-log
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"Driver"</span>: <span class="s2">"local"</span>,
        <span class="s2">"Labels"</span>: <span class="o">{}</span>,
        <span class="s2">"Mountpoint"</span>: <span class="s2">"/var/lib/docker/volumes/nginx-log/_data"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"nginx-log"</span>,
        <span class="s2">"Options"</span>: <span class="o">{}</span>,
        <span class="s2">"Scope"</span>: <span class="s2">"local"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div></div>

<h1 id="å¯åŠ¨å®¹å™¨æ—¶å¸¦ä¸Šæ•°æ®å·">å¯åŠ¨å®¹å™¨æ—¶å¸¦ä¸Šæ•°æ®å·</h1>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> docker run <span class="nt">-d</span> <span class="nt">-it</span> <span class="nt">--name</span><span class="o">=</span>edc-nginx <span class="nt">-p</span> 8800:80 <span class="nt">-v</span> nginx-log:/usr/share/nginx/html nginx

Unable to find image <span class="s1">'nginx:latest'</span> locally
Trying to pull repository docker.io/library/nginx ...
latest: Pulling from docker.io/library/nginx
26c5c85e47da: Pull <span class="nb">complete
</span>4f3256bdf66b: Pull <span class="nb">complete
</span>2019c71d5655: Pull <span class="nb">complete
</span>8c767bdbc9ae: Pull <span class="nb">complete
</span>78e14bb05fd3: Pull <span class="nb">complete
</span>75576236abf5: Pull <span class="nb">complete
</span>Digest: sha256:63b44e8ddb83d5dd8020327c1f40436e37a6fffd3ef2498a6204df23be6e7e94
Status: Downloaded newer image <span class="k">for </span>docker.io/nginx:latest
a90f37d097e5e35b645b530a4dd20726a52819c688373c0d683a9244f411b570
</code></pre></div></div>
<p>-v ä»£è¡¨æŒ‚è½½æ•°æ®å·ï¼Œå¹¶ä¸”å°†æ•°æ®å·æŒ‚è½½åˆ° å®¿ä¸»çš„ç›®å½• /usr/share/nginx/html ä¸‹</p>

<h1 id="æŸ¥çœ‹æ•°æ®">æŸ¥çœ‹æ•°æ®</h1>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker inspect nginx-log
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"Driver"</span>: <span class="s2">"local"</span>,
        <span class="s2">"Labels"</span>: <span class="o">{}</span>,
        <span class="s2">"Mountpoint"</span>: <span class="s2">"/var/lib/docker/volumes/nginx-log/_data"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"nginx-log"</span>,
        <span class="s2">"Options"</span>: <span class="o">{}</span>,
        <span class="s2">"Scope"</span>: <span class="s2">"local"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div></div>
<h1 id="åˆ é™¤æ•°æ®å·">åˆ é™¤æ•°æ®å·</h1>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker stop edc-nginx
docker <span class="nb">rm </span>edc-nginx
docker inspect nginx-log
<span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"Driver"</span>: <span class="s2">"local"</span>,
        <span class="s2">"Labels"</span>: <span class="o">{}</span>,
        <span class="s2">"Mountpoint"</span>: <span class="s2">"/var/lib/docker/volumes/nginx-log/_data"</span>,
        <span class="s2">"Name"</span>: <span class="s2">"nginx-log"</span>,
        <span class="s2">"Options"</span>: <span class="o">{}</span>,
        <span class="s2">"Scope"</span>: <span class="s2">"local"</span>
    <span class="o">}</span>
<span class="o">]</span>
</code></pre></div></div>

<p>åœæ­¢å¹¶åˆ é™¤å®¹å™¨ä¹‹åï¼Œ æ•°æ®å·æ˜¯ä¾æ—§å­˜åœ¨çš„ã€‚è¦è‡ªå·±æ‰‹åŠ¨æ¸…é™¤</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker volume <span class="nb">rm </span>nginx-log
nginx-log

docker inspect nginx-log
<span class="o">[]</span>
Error: No such object: nginx-log
</code></pre></div></div>

:ET