---
layout: post
title: epoll 的两种模式
date: 2014-10-15 9:08:12
categories: network
tags: network 
excerpt: epoll的两种模式，水平触发（LT）和 边缘触发（ET）
---

epoll有两种模块， 水平触发（LT）（缺省方式） 和 边缘触发（ET） 。


#### LT触发：

读事件触发，当读的 fd 的缓冲区有数据时，就会被触发，而且在缓冲区的数据一次没被读完还会被触发。

写事件触发，当写的 fd 缓冲区可写时，就会被触发，只有可写就会被触发着。

（效率不高的原因是因为，内核态和用户态切换的次数比较多）

缺省的工作方式

#### ET触发：

读事件触发，当读的fd的缓冲区有数据时，就会被触发，只触发一次，所以程序最好一些读完缓冲区里的数据。

写事件触发，当写的fd的缓冲区为代时，就会被触发，只触发一次，所以程序最好要把完整的数据写到 fd 缓冲区中。